(this["webpackJsonpreact-dnd-example"]=this["webpackJsonpreact-dnd-example"]||[]).push([[0],{23:function(e,n,a){e.exports=a(37)},28:function(e,n,a){},29:function(e,n,a){},32:function(e,n,a){},34:function(e,n,a){},35:function(e,n,a){},37:function(e,n,a){"use strict";a.r(n);var t,o=a(0),r=a.n(o),c=a(19),s=a.n(c),d=(a(28),a(29),a(5)),i=a(3),u=a.n(i),l=(a(32),r.a.createContext()),p=a(40),x=a(41),m=a(13),g=0,f=1,k=2,I=(t={},Object(m.a)(t,g,"todo"),Object(m.a)(t,f,"inProgress"),Object(m.a)(t,k,"done"),t),v="task";u.a.object,u.a.number,u.a.number;var b=function(e){var n=e.task,a=e.columnIndex,t=e.taskIndex,c=Object(o.useContext)(l),s=c.sortTaskList,i=c.insertToTaskList,u=n.id,m=n.content,g=Object(o.useRef)(null),f=Object(p.a)({item:{type:v,task:n,columnIndex:a,taskIndex:t},collect:function(e){return{canDrag:Boolean(e.canDrag()),isDragging:Boolean(e.isDragging()),didDrop:Boolean(e.didDrop())}}}),k=Object(d.a)(f,3),I=k[0],b=k[1],T=k[2],O=I.isDragging,C=Object(x.a)({accept:v,hover:function(e,n){if(g.current&&n.canDrop()){var o=e.columnIndex,r=e.taskIndex,c=a,d=t;if(o===c&&r===d)return{};o===c?s({sourceTaskIndex:r,targetTaskIndex:d,sourceColumnIndex:o}):i({sourceColumnIndex:o,sourceTaskIndex:r,targetColumnIndex:c,targetTaskIndex:d}),e.columnIndex=c,e.taskIndex=d}},collect:function(e){return{isOver:Boolean(e.isOver()),canDrop:Boolean(e.canDrop()),isOverCurrent:e.isOver({shallow:!0})}}}),D=Object(d.a)(C,2),L=D[0],E=D[1],j=L.isOver;return b(E(g)),r.a.createElement("div",{className:"task",ref:T(g),"data-is-over":j,"data-is-dragging":O},r.a.createElement("strong",null,"[IT-",u,"]"),r.a.createElement("p",null,m))};a(34),u.a.array,u.a.number,u.a.string;var T=function(e){var n=e.columnList,a=void 0===n?[]:n,t=e.columnIndex,c=Object(o.useContext)(l).addToTaskList,s=I[t],i=Object(x.a)({accept:v,drop:function(e,n){if(!n.didDrop()){var a=n.getItem().taskIndex,o=n.getItem().columnIndex;c({sourceTaskIndex:a,sourceColumnIndex:o,targetColumnIndex:t})}},canDrop:function(e,n){return n.getItem().columnIndex!==t},collect:function(e){return{isOver:Boolean(e.isOver()),canDrop:Boolean(e.canDrop()),isOverCurrent:e.isOver({shallow:!0})}}}),u=Object(d.a)(i,2),p=u[0],m=u[1],g=p.isOver,f=p.canDrop,k=p.isOverCurrent;return r.a.createElement("div",{className:"column",ref:m,"data-is-over":g&&k,"data-can-drop":f},r.a.createElement("h3",{className:"column-title"},s),a.map((function(e,n){return r.a.createElement(b,{key:e.id,task:e,columnIndex:t,taskIndex:n})})))},O=(a(35),a(39)),C=a(21),D=[[{id:100,content:"Code Refinement"},{id:102,content:"Study Vue"},{id:103,content:"Add RWD"}],[{id:104,content:"Fix IE bugs"},{id:105,content:"Study React-DnD"}],[{id:106,content:"Write testing"}]],L=a(14),E=a.n(L);var j=function(e){var n=Object(o.useState)(D),a=Object(d.a)(n,2),t=a[0],c=a[1];Object(o.useEffect)((function(){console.log("%c STATE %c taskList ","background:#35495e; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#61dafb; padding: 1px; border-radius: 0 3px 3px 0;  color: #35495e",t)}),[t]);var s=function(e){var n=e.sourceTaskIndex,a=e.targetTaskIndex,o=e.sourceColumnIndex;console.log("%c FUNCTION CALL %c sortTaskList ","background:#35495e; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#F2D785; padding: 1px; border-radius: 0 3px 3px 0;  color: #35495e");var r=E.a.cloneDeep(t),s=r[o],d=s[n];s[n]=s[a],s[a]=d,r[o]=s,c(r)},i={addToTaskList:function(e){var n=e.sourceTaskIndex,a=e.sourceColumnIndex,o=e.targetColumnIndex;console.log("%c FUNCTION CALL %c addToTaskList ","background:#35495e; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#BF6D65; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff");var r=E.a.cloneDeep(t),s=r[a][n];r[a].splice(n,1),r[o].push(s),c(r)},insertToTaskList:function(e){var n=e.sourceTaskIndex,a=e.sourceColumnIndex,o=e.targetTaskIndex,r=e.targetColumnIndex;console.log("%c FUNCTION CALL %c insertToTaskList ","background:#35495e; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#038C8C; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff");var s=E.a.cloneDeep(t),d=s[a][n];s[a].splice(n,1),s[r].splice(o,0,d),c(s)},sortTaskList:s};return r.a.createElement(O.a,{backend:C.a},r.a.createElement(l.Provider,{value:i},r.a.createElement("div",{className:"board"},t.map((function(e,n){return r.a.createElement(T,{key:n,columnList:e,columnIndex:n,sortTaskList:s})})))))};var h=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.035c1029.chunk.js.map